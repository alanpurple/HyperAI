<button mat-fab color="accent" aria-label="create project button"
        (click)="createProject()" *ngIf="!isMaking">
  <mat-icon>add</mat-icon>
</button>

<mat-stepper *ngIf="isMaking" linear>
  <mat-step>
    <form>
      <ng-template matStepLabel>Project Name</ng-template>
      <mat-form-field apperance="fill">
        <mat-label>Name</mat-label>
        <input matInput placeholder="project name" required>
      </mat-form-field>
    </form>
  </mat-step>
  <mat-step>
    <form>
      <mat-form-field apperance="fill">
        <mat-label>Members</mat-label>
        <mat-chip-list #memberList aria-label="project members" multiple>
          <mat-chip *ngFor="let member of newProject.members; index as i"
                    [value]="member" removable
                    (removed)="removeUser(i)">
            {{member.user}}
            <button matChipRemove><mat-icon>cancel</mat-icon></button>
          </mat-chip>
        </mat-chip-list>
      </mat-form-field>
      <mat-form-field>
        <mat-label>available members</mat-label>
        <mat-select [(ngModel)]="selectedMember">
          <mat-option *ngFor="let member of availableMembers" [value]="member">
            {{member}}
          </mat-option>
        </mat-select>
        <button *ngIf="selectedMember" mat-button color="warning" (click)="addMember()">
          add member
        </button>
      </mat-form-field>
    </form>
  </mat-step>
  <mat-step>
    <form>
      <mat-form-field *ngFor="let member of newProject.members" appearance="fill">
        <mat-label>{{member.user}}</mat-label>
        <mat-select [(ngModel)]="member.role">
          <mat-option *ngFor="let role of roles" [value]="role">
            {{role}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </form>
  </mat-step>
  <mat-step>
    <form>
      <mat-form-field appearance="fill">
        <mat-label>Project Category</mat-label>
        <mat-select [(ngModel)]="newProject.category" name="category">
          <mat-option *ngFor="let category of categories" [value]="category">
            {{category}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </form>
  </mat-step>
</mat-stepper>
